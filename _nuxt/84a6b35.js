(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{659:function(e,t,o){"use strict";o(243);var n=o(244);t.a=Object(n.a)("layout")},681:function(e,t,o){var content=o(792);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("47e7fcac",content,!0,{sourceMap:!1})},791:function(e,t,o){"use strict";o(681)},792:function(e,t,o){var n=o(16)((function(i){return i[1]}));n.push([e.i,".min-height-vh[data-v-054b90be]{min-height:70vh}",""]),n.locals={},e.exports=n},826:function(e,t,o){"use strict";o.r(t);var n=o(235),r=o(104),c=o(601),l=o(599),d=o(810),v=o(224),m=o(659),h=o(600),f=o(800),S=(o(28),o(238),o(8),o(10),o(7),o(13),o(9),o(14),o(22)),x=o(2),O=(o(78),o(4),o(64),o(130)),R=o.n(O),_=o(98);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(x.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var k={name:"Vistas",data:function(){return{page:{color:"blacl",title:"SEA USER",icon:"mdi-cogs"},menuFechaResolucion:!1,nuevaInstitucion:!1,nuevoSancionado:!1,verSancionados:!1,verContratos:!1,hidden:!0,valid:!1,loading:!1,picker:null,picker1:null,picker2:null,menu:!1,menu1:!1,menu2:!1,menu3:!1,monedasMulta:["MXN","USD"],userGeneral:!1,userSancionados:!1,userContratos:!1,AllUsers:[],allSancionados:[],search:"",search2:"",nombresColumnas:[{text:"Nombre",value:"DatosServidor.Nombres",sortable:!0,align:"start"},{text:"Primer Apellido",value:"DatosServidor.PrimerApellido"},{text:"Segundo Apellido",value:"DatosServidor.SegundoApellido"},{text:"Dependencia",value:"Dependencium.Dependencia"},{text:"Puesto",value:"DatosServidor.Puesto.Puesto"},{text:"Responsabilidad",value:"NivelesResponsabilidad"},{text:"Tipo de contrataciÃ³nes",value:"TipoProcedimiento"},{text:"Ejercicio Fiscal",value:"EjercicioFiscal"},{text:"Ramo",value:"Ramo.Ramo"}],sancionadosColumnas:[{text:"Nombre",value:"DatosServidor.Nombres",sortable:!0,align:"start"},{text:"Primer Apellido",value:"DatosServidor.PrimerApellido"},{text:"Segundo Apellido",value:"DatosServidor.SegundoApellido"},{text:"Dependencia",value:"Dependencia.Dependencia"},{text:"Expediente",value:"Expediente"},{text:"Falta",value:"Falta.TipoFalta"},{text:"Autoridad Sancionadora",value:"AutoridadSancionadora"},{text:"Observaciones",value:"Observaciones"}]}},computed:j(j({},Object(_.c)(["usuario","URL"])),{},{hasM:function(){var e;return null===(e=this.IdTipoSancion)||void 0===e?void 0:e.some((function(e){return"M"===e}))},hasI:function(){var e;return null===(e=this.IdTipoSancion)||void 0===e?void 0:e.some((function(e){return"I"===e}))}}),watch:{menu:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker.activePicker="YEAR"}))}},methods:j(j({},Object(_.b)(["guardarUsuario","cerrarSesion"])),{},{save:function(e){this.$refs.menu.save(e)},userExist:function(){0==this.$store.state.usuario.data.Role?this.$router.push("/admin"):(this.traerServidores(),this.traerSancionados(),this.usuario.data.Role,console.log("Rol permitido"),this.userGeneral=!0,"USER-SANCION"==this.usuario.data.Role&&(console.log("Rol permitido"),this.userSancionados=!0),"USER-CONTRATOS"==this.usuario.data.Role&&(console.log("Rol permitido"),this.userContratos=!0))},traerServidores:function(){var e=this;return Object(S.a)(regeneratorRuntime.mark((function t(){var o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e,n={headers:{"x-token":"".concat(e.usuario.token)}},t.next=4,R.a.get("".concat(e.$store.state.URL,"/api/servidores/institucion"),n).then((function(t){e.AllUsers=t.data.ServidoresContrataciones,console.log(e.AllUsers)})).catch((function(e){o.$swal({title:"Error!",text:e.response.data.errors,icon:"error"})}));case 4:case"end":return t.stop()}}),t)})))()},traerSancionados:function(){var e=this;return Object(S.a)(regeneratorRuntime.mark((function t(){var o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e,n={headers:{"x-token":"".concat(e.usuario.token)}},t.next=4,R.a.get("".concat(e.$store.state.URL,"/api/sanciones/misSancionados"),n).then((function(t){e.allSancionados=t.data.Sancionados,console.log(e.allSancionados)})).catch((function(e){o.$swal({title:"Error!",text:e.response.data.errors,icon:"error"})}));case 4:case"end":return t.stop()}}),t)})))()}}),beforeMount:function(){},mounted:function(){this.userExist()}},w=(o(791),o(67)),component=Object(w.a)(k,(function(){var e=this,t=e._self._c;return t("div",[t(l.a,{staticClass:"flex-grow-1 min-height-vh"},[t(h.a,{attrs:{justify:"center"}},[t("h2",[e._v(e._s(e.$store.state.usuario.data.siglasInstitucion))]),e._v(" "),t(c.a,{staticClass:"mb-10",attrs:{cols:"12"}},[t(m.a,{},[t(h.a,{attrs:{justify:"center"}},[e.userContratos||e.userGeneral?t(c.a,{attrs:{cols:"12",xl:"6",lg:"6",md:"6"}},[t(n.a,{attrs:{block:""},on:{click:function(t){e.nuevaInstitucion=!1,e.nuevoSancionado=!1,e.verSancionados=!1,e.verContratos=!0}}},[t(v.a,{attrs:{color:"info"}},[e._v("mdi mdi-eye-settings")]),e._v("\n\n                                Ver Servidores en Contratos "),t("p",{staticStyle:{color:"green"}},[e._v(e._s(e.AllUsers.length))])],1)],1):e._e(),e._v(" "),e.userSancionados||e.userGeneral?t(c.a,{attrs:{cols:"12",xl:"6",lg:"6",md:"6"}},[t(n.a,{attrs:{block:""},on:{click:function(t){e.nuevaInstitucion=!1,e.nuevoSancionado=!1,e.verContratos=!1,e.verSancionados=!0}}},[t(v.a,{attrs:{color:"warning"}},[e._v("mdi mdi-eye-settings")]),e._v("\n\n                                Ver Sancionados "),t("p",{staticStyle:{color:"red"}},[e._v(e._s(e.allSancionados.length))])],1)],1):e._e()],1)],1)],1),e._v(" "),e.verSancionados?t(c.a,{attrs:{cols:"12"}},[[t(r.d,[t(f.a,{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),t(d.a,{staticClass:"elevation-1",attrs:{dense:"",search:e.search,headers:e.sancionadosColumnas,items:e.allSancionados,"item-key":"IdServidorPubSancionado"}})]],2):e._e(),e._v(" "),e.verContratos?t(c.a,{attrs:{cols:"12"}},[[t(r.d,[t(f.a,{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search2,callback:function(t){e.search2=t},expression:"search2"}})],1),e._v(" "),t(d.a,{staticClass:"elevation-1",attrs:{dense:"",search:e.search2,headers:e.nombresColumnas,items:e.AllUsers,"item-key":"IdServidorEnContrataciones"}})]],2):e._e()],1)],1)],1)}),[],!1,null,"054b90be",null);t.default=component.exports}}]);